{"version":3,"sources":["./src/app/opportunities/opportunities.page.html","./src/app/opportunities/opportunities-routing.module.ts","./src/app/opportunities/opportunities.module.ts","./src/app/opportunities/opportunities.page.scss","./src/app/opportunities/opportunities.page.ts"],"names":[],"mappings":"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","file":"opportunities-opportunities-module.js","sourcesContent":["export default \"<ion-content class=\\\"item-list\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <div\\n    (click)=\\\"navigateTo('my-opportunities')\\\"\\n    color=\\\"secondary\\\"\\n    class=\\\"flex-compatible ion-align-items-center ion-margin-bottom marginTop ion-padding-vertical w100 background-white ion-text-start\\\"\\n  >\\n    <span class=\\\"bold ion-padding-start\\\">{{ \\\"opportunities.myOpportunities\\\" | translate}}</span>\\n    <ion-icon name=\\\"chevron-forward-outline\\\" class=\\\"extrabig-size\\\"></ion-icon>\\n  </div>\\n\\n  <!--  start suggestions list-->\\n  <div\\n    *ngIf=\\\"items.length > 0\\\"\\n    color=\\\"secondary\\\"\\n    [routerLink]=\\\"'/see-all-opportunities'\\\"\\n    class=\\\"marginBottom flex-compatible ion-align-items-center ion-padding-vertical w100 background-white ion-text-start\\\"\\n  >\\n    <span class=\\\"bold ion-padding-start\\\">{{ \\\"opportunities.suggestions\\\" | translate}}</span>\\n    <ion-icon name=\\\"chevron-forward-outline\\\" class=\\\"extrabig-size\\\"></ion-icon>\\n    <!--    TODO: Add filters button when functionality is done-->\\n    <!--    <ion-button (click)=\\\"filter()\\\" class=\\\"filtersButton\\\">-->\\n    <!--      <ion-icon slot=\\\"icon-only\\\" name=\\\"options-outline\\\"></ion-icon>-->\\n    <!--    </ion-button>-->\\n  </div>\\n  <div *ngFor=\\\"let item of items | slice:0:maxSuggestions\\\">\\n    <app-opportunity-item\\n      [info]=\\\"item\\\"\\n      [hasPhoto]=\\\"true\\\"\\n      [linkText]=\\\"'opportunities.seeMore'\\\"\\n      (itemClick)=\\\"onItemClick($event)\\\"\\n    ></app-opportunity-item>\\n  </div>\\n  <div\\n    *ngIf=\\\"items.length > maxSuggestions\\\"\\n    color=\\\"secondary\\\"\\n    class=\\\"marginTop ion-margin-bottom paddingVertical w100 background-white ion-text-center\\\"\\n  >\\n    <span class=\\\"bold ion-padding-start\\\" [routerLink]=\\\"'/see-all-opportunities'\\\"\\n      >{{ \\\"opportunities.seeAll\\\" | translate}}</span\\n    >\\n  </div>\\n  <!--  end suggestions list-->\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OpportunitiesPage } from './opportunities.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OpportunitiesPage,\n  },\n  {\n    path: 'my-opportunities',\n    loadChildren: () => import('./my-opportunities/my-opportunities.module').then((m) => m.MyOpportunitiesPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OpportunitiesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { OpportunitiesPageRoutingModule } from './opportunities-routing.module';\n\nimport { OpportunitiesPage } from './opportunities.page';\nimport { SharedModule } from '../@shared/shared.module';\n\n@NgModule({\n  imports: [SharedModule, OpportunitiesPageRoutingModule],\n  declarations: [OpportunitiesPage],\n})\nexport class OpportunitiesPageModule {}\n","export default \".avatar-text.four-lines {\\n  line-height: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3Bwb3J0dW5pdGllcy9vcHBvcnR1bml0aWVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9vcHBvcnR1bml0aWVzL29wcG9ydHVuaXRpZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YXRhci10ZXh0LmZvdXItbGluZXMge1xuICBsaW5lLWhlaWdodDogMTZweDtcbn1cbiJdfQ== */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { Subscription } from 'rxjs';\nimport { GetJobOffersSuggestions, SetCurrentJobOffer } from '../@store/job-offers/job-offers.actions';\nimport { JobOffersState } from '../@store/job-offers/job-offers.state';\nimport { IJobOffer } from '../@store/job-offers/job-offers.model';\n\nconst MAX_SUGGESTIONS_ITEMS = 5;\n\n@Component({\n  selector: 'app-opportunities',\n  templateUrl: './opportunities.page.html',\n  styleUrls: ['./opportunities.page.scss'],\n})\nexport class OpportunitiesPage implements OnInit, OnDestroy {\n  public items = [];\n  public maxSuggestions = MAX_SUGGESTIONS_ITEMS;\n  private suggestionsSubscription: Subscription;\n\n  constructor(private router: Router, private store: Store) {}\n\n  ngOnInit() {\n    this.subscribeToSuggestions();\n  }\n\n  public ionViewWillEnter() {\n    if (this.store.selectSnapshot(JobOffersState.getJobOffersSuggestions).length === 0) {\n      this.store.dispatch(new GetJobOffersSuggestions());\n    }\n  }\n\n  public doRefresh(event): void {\n    const subscription = this.store.dispatch(new GetJobOffersSuggestions()).subscribe(\n      () => {\n        subscription.unsubscribe();\n        event.target.complete();\n      },\n      (error) => {\n        subscription.unsubscribe();\n        event.target.complete();\n      }\n    );\n  }\n\n  private subscribeToSuggestions() {\n    this.suggestionsSubscription = this.store.select(JobOffersState.getJobOffersSuggestions).subscribe((res) => {\n      this.items = res;\n    });\n  }\n  public goDetail(): void {\n    this.router.navigate(['/detail']);\n  }\n\n  public navigateTo(url) {\n    this.router.navigate([url]);\n  }\n\n  public filter() {}\n\n  public onItemClick($event) {\n    const jobOffer = this.store\n      .selectSnapshot(JobOffersState.getJobOffersSuggestions)\n      .find((item) => item.id === $event);\n    const jobOfferUpdated: IJobOffer = { ...jobOffer, own: false } as IJobOffer;\n    this.store.dispatch(new SetCurrentJobOffer(jobOfferUpdated));\n    this.router.navigate(['opportunity-detail', $event]);\n  }\n\n  private disconnectObservers(): void {\n    if (this.suggestionsSubscription) {\n      this.suggestionsSubscription.unsubscribe();\n    }\n  }\n  ngOnDestroy() {\n    this.disconnectObservers();\n  }\n}\n"],"sourceRoot":"webpack:///"}