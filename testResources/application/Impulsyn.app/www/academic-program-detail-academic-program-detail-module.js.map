{"version":3,"sources":["./src/app/academic-program-detail/academic-program-detail.page.html","./src/app/academic-program-detail/academic-program-detail-routing.module.ts","./src/app/academic-program-detail/academic-program-detail.module.ts","./src/app/academic-program-detail/academic-program-detail.page.scss","./src/app/academic-program-detail/academic-program-detail.page.ts"],"names":[],"mappings":"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","file":"academic-program-detail-academic-program-detail-module.js","sourcesContent":["export default \"<app-header [showBackButton]=\\\"true\\\" [title]=\\\"'academicProgram.title'\\\" (backButtonClick)=\\\"goBack()\\\"></app-header>\\n\\n<ion-content>\\n  <div class=\\\"item-profile\\\">\\n    <app-academic-item [program]=\\\"program\\\" (itemClick)=\\\"onItemClick($event)\\\" [hasPhoto]=\\\"true\\\"> </app-academic-item>\\n  </div>\\n  <ion-grid class=\\\"regular-small-size ion-padding ion-margin\\\">\\n    <ion-row *ngIf=\\\"program.description\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.description' | translate}}</span>\\n          <p class=\\\"respectLineJumps\\\">{{program.description}}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.academic_type\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.academicType' | translate}}</span>\\n          <p>{{'academicType.' + program.academic_type?.name | translate}}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.study_area\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.studyArea' | translate}}</span>\\n          <p>{{'studyArea.' + program.study_area?.name | translate}}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <!--    <ion-row *ngIf=\\\"program.sport\\\">-->\\n    <!--      <ion-col>-->\\n    <!--        <ion-text>-->\\n    <!--          <span class=\\\"bold\\\">{{ 'formFields.sport' | translate}}</span>-->\\n    <!--          <a href=\\\"{{program.sport}}\\\">{{program.sport}}</a>-->\\n    <!--        </ion-text>-->\\n    <!--      </ion-col>-->\\n    <!--    </ion-row>-->\\n    <ion-row *ngIf=\\\"program.modality\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.modality' | translate}}</span>\\n          <p>{{'academicModality.' + program.modality?.name | translate}}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.language\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.language' | translate}}</span>\\n          <p>{{'languageList.' + program.language?.name | translate}}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.sports.length > 0\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'sports.sportRelatedDetail' | translate}}</span>\\n          <p>\\n            <span *ngFor=\\\"let item of program.sports; index as i\\\">\\n              {{ 'sports.' + item.name | translate }}{{(i === program.sports.length - 1) ? '' : ','}}\\n            </span>\\n          </p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.start_date && program.end_date\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.date' | translate}}</span>\\n          <p>\\n            {{ program.friendly_start_date.month | translate }} {{ program.friendly_start_date.year }} {{' - ' +\\n            (program.friendly_end_date.month | translate) + ' ' + program.friendly_end_date.year }}\\n          </p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"program.start_date && !program.end_date\\\">\\n      <ion-col>\\n        <ion-text>\\n          <span class=\\\"bold\\\">{{ 'formFields.startDate' | translate}}</span>\\n          <p>{{ program.friendly_start_date.month | translate }} {{ program.friendly_start_date.year }}</p>\\n        </ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <!--    <ion-row *ngIf=\\\"program.price\\\">-->\\n    <!--      <ion-col>-->\\n    <!--        <ion-text>-->\\n    <!--          <span class=\\\"bold\\\">{{ 'formFields.price' | translate}}</span>-->\\n    <!--          <p>{{program.price}}</p>-->\\n    <!--        </ion-text>-->\\n    <!--      </ion-col>-->\\n    <!--    </ion-row>-->\\n    <ion-row *ngIf=\\\"program.brochure\\\">\\n      <ion-col>\\n        <div class=\\\"brochure-link bold\\\" (click)=\\\"openLink(program.brochure)\\\">\\n          <span>{{ 'formFields.downloadBrochure' | translate}}</span>\\n          <ion-icon name=\\\"cloud-download-outline\\\" class=\\\"download-brochure-icon\\\"></ion-icon>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n<ion-footer *ngIf=\\\"!editable\\\">\\n  <ion-grid class=\\\"buttons-line footer-grid\\\">\\n    <ion-row class=\\\"flex-row\\\">\\n      <div class=\\\"col-xs-6 ion-justify-content-center\\\" *ngIf=\\\"!isRequested\\\">\\n        <ion-button color=\\\"secondary\\\" (click)=\\\"onRequestButtonClick()\\\"\\n          >{{'pageDetail.requestInfoButton' | translate}}</ion-button\\n        >\\n      </div>\\n      <div class=\\\"col-xs-6 ion-justify-content-center\\\" *ngIf=\\\"isRequested\\\">\\n        <ion-button color=\\\"secondary\\\">{{'pageDetail.requestedButton' | translate}}</ion-button>\\n      </div>\\n      <div class=\\\"col-xs-6 ion-justify-content-center\\\">\\n        <ion-button class=\\\"secondary-button with-icon-end\\\" (click)=\\\"onFavouriteButtonClick()\\\"\\n          >{{ 'pageDetail.favoriteButton' | translate}}\\n          <ion-icon name=\\\"{{(isFavourite)?'heart': 'heart-outline'}}\\\" color=\\\"secondary\\\"></ion-icon>\\n        </ion-button>\\n      </div>\\n    </ion-row>\\n  </ion-grid>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AcademicProgramDetailPage } from './academic-program-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AcademicProgramDetailPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AcademicProgramDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { AcademicProgramDetailPageRoutingModule } from './academic-program-detail-routing.module';\n\nimport { AcademicProgramDetailPage } from './academic-program-detail.page';\nimport { SharedModule } from '../@shared/shared.module';\nimport { RequestMessageModalModule } from '../@shared/components/request-message-modal/request-message-modal.module';\n\n@NgModule({\n  imports: [SharedModule, AcademicProgramDetailPageRoutingModule, RequestMessageModalModule],\n  declarations: [AcademicProgramDetailPage],\n})\nexport class AcademicProgramDetailPageModule {}\n","export default \".brochure-link {\\n  text-decoration: none;\\n  color: var(--ion-color-secondary);\\n  display: flex;\\n  align-items: center;\\n}\\n.brochure-link .download-brochure-icon {\\n  margin-left: 3px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWNhZGVtaWMtcHJvZ3JhbS1kZXRhaWwvYWNhZGVtaWMtcHJvZ3JhbS1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UscUJBQUE7RUFDQSxpQ0FBQTtFQUVBLGFBQUE7RUFDQSxtQkFBQTtBQUFGO0FBRUU7RUFDRSxnQkFBQTtBQUFKIiwiZmlsZSI6InNyYy9hcHAvYWNhZGVtaWMtcHJvZ3JhbS1kZXRhaWwvYWNhZGVtaWMtcHJvZ3JhbS1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJyb2NodXJlLWxpbmsge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcblxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gIC5kb3dubG9hZC1icm9jaHVyZS1pY29uIHtcbiAgICBtYXJnaW4tbGVmdDogM3B4O1xuICB9XG59XG4iXX0= */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BasePage } from '../base/base.page';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../@core/utils.service';\nimport { ModalController } from '@ionic/angular';\nimport { IAcademicProgram } from '../@store/academic-programs/academic-programs.model';\nimport { AcademicProgramsState } from '../@store/academic-programs/academic-programs.state';\nimport { Subscription } from 'rxjs';\nimport {\n  AddFavouriteAcademicProgram,\n  DeleteAcademicProgramsFavourite,\n  GetAcademicProgramsFavourites,\n  GetAcademicProgramsRequested,\n  RequestEmailAcademicProgram,\n} from '../@store/academic-programs/academic-programs.actions';\nimport { Utils } from '../@global/utils';\nimport { RequestMessageModalComponent } from '../@shared/components/request-message-modal/request-message-modal.component';\nimport { OfferRequestInput } from '../../API';\nimport { take } from 'rxjs/operators';\nimport { InformService } from '../@core/inform.service';\n\n@Component({\n  selector: 'app-academic-program-detail',\n  templateUrl: './academic-program-detail.page.html',\n  styleUrls: ['./academic-program-detail.page.scss'],\n})\nexport class AcademicProgramDetailPage extends BasePage implements OnInit, OnDestroy {\n  public programId: string;\n  public program: IAcademicProgram;\n  private favourites: IAcademicProgram[] = [];\n  private requests: IAcademicProgram[] = [];\n  public editable: boolean;\n  public isFavourite = false;\n  private academicProgramSub: Subscription;\n  private requestsSub: Subscription;\n  private favouriteSub: Subscription;\n  public isRequested = false;\n\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    private route: ActivatedRoute,\n    private modalController: ModalController,\n    private informService: InformService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.programId = this.route.snapshot.params['id'];\n    this.subscribeToAcademicProgram();\n  }\n\n  private subscribeToAcademicProgram(): void {\n    this.academicProgramSub = this.store\n      .select(AcademicProgramsState.getCurrentAcademicProgram)\n      .subscribe((res: IAcademicProgram) => {\n        if (!res) {\n          return;\n        }\n        this.program = res;\n        this.editable = this.program?.own;\n\n        this.isFavouriteLogic();\n        this.isRequestedLogic();\n      });\n  }\n\n  private isRequestedLogic() {\n    this.store.dispatch(new GetAcademicProgramsRequested());\n    this.requestsSub = this.store.select(AcademicProgramsState.getAcademicProgramsRequested).subscribe((data) => {\n      if (!data) {\n        return;\n      }\n      this.requests = data;\n      this.isRequested = this.searchInRequests();\n    });\n  }\n\n  private isFavouriteLogic() {\n    this.store.dispatch(new GetAcademicProgramsFavourites());\n    this.favouriteSub = this.store.select(AcademicProgramsState.getAcademicProgramsFavourites).subscribe((data) => {\n      if (!data) {\n        return;\n      }\n      this.favourites = data;\n      this.isFavourite = this.searchInFavourites();\n    });\n  }\n\n  private searchInRequests() {\n    return Utils.isItemOnList(this.requests, this.programId);\n  }\n\n  private searchInFavourites() {\n    return Utils.isItemOnList(this.favourites, this.programId);\n  }\n\n  public onRequestButtonClick() {\n    if (this.program.contact_email) {\n      this.openRequestModal();\n    } else if (this.program.website) {\n      // Open web\n      this.utilsService.openLink(this.program.website);\n    }\n  }\n\n  private async openRequestModal() {\n    const modal = await this.modalController.create({\n      component: RequestMessageModalComponent,\n      componentProps: {\n        type: 'academic',\n      },\n    });\n\n    modal.onDidDismiss().then((response) => {\n      if (response.data) {\n        console.dir(response.data);\n\n        const modaFormData = {\n          message: response.data.message,\n          contact_email: response.data.contactEmail,\n          contact_phone: response.data.contactPhone,\n          contact_name: response.data.name,\n          surname: response.data.surname,\n        } as OfferRequestInput;\n\n        this.store\n          .dispatch(\n            new RequestEmailAcademicProgram({\n              id: this.program.id,\n              input: modaFormData,\n              program: this.program,\n            })\n          )\n          .pipe(take(1))\n          .subscribe(() => {\n            this.informService.showInfo('requestSuccess');\n            this.isRequested = true;\n          });\n      }\n    });\n\n    return await modal.present();\n  }\n\n  public onFavouriteButtonClick() {\n    if (this.isFavourite) {\n      this.store.dispatch(new DeleteAcademicProgramsFavourite(this.program.id));\n    } else {\n      this.store.dispatch(new AddFavouriteAcademicProgram(this.program));\n    }\n  }\n\n  public openLink(url: string): void {\n    this.utilsService.openLink(url);\n  }\n\n  private disconnectObservers(): void {\n    if (this.academicProgramSub) {\n      this.academicProgramSub.unsubscribe();\n    }\n    if (this.requestsSub) {\n      this.requestsSub.unsubscribe();\n    }\n    if (this.favouriteSub) {\n      this.favouriteSub.unsubscribe();\n    }\n  }\n\n  public onItemClick($event) {\n    this.router.navigate([\n      'organization-profile',\n      this.store.selectSnapshot(AcademicProgramsState.getCurrentAcademicProgram).organization_id,\n    ]);\n  }\n\n  ngOnDestroy() {\n    this.disconnectObservers();\n  }\n}\n"],"sourceRoot":"webpack:///"}