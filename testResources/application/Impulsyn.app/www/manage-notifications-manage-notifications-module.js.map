{"version":3,"sources":["./src/app/manage-notifications/manage-notifications.page.html","./src/app/manage-notifications/manage-notifications-routing.module.ts","./src/app/manage-notifications/manage-notifications.module.ts","./src/app/manage-notifications/manage-notifications.page.scss","./src/app/manage-notifications/manage-notifications.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,+eAAgb,2CAA2C,mRAAmR,0CAA0C,4hBAA4hB,2CAA2C,mWAAmW,E;;;;;;;;;;;;;;;;;;;ACAxqD;AACc;AAEe;AAEtE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kFAAuB;KACnC;CACF,CAAC;;;IAMiD,CAAC;IAAvC,oCAAoC;QAJhD,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,oCAAoC,CAAG;IAAD,2CAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;AChBR;AAEoD;AAEvB;AACd;;;IAMZ,CAAC;IAAhC,6BAA6B;QAJzC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,kEAAY,EAAE,yGAAoC,CAAC;YAC7D,YAAY,EAAE,CAAC,kFAAuB,CAAC;SACxC,CAAC;OACW,6BAA6B,CAAG;IAAD,oCAAC;CAAA;AAAH;;;;;;;;;;;;;ACX1C;AAAe,6GAA8C,2KAA2K,E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtL;AACL;AACJ;AACL;AACkB;AACX;AACyB;AACd;AAEsD;AACtE;AACmB;;IAOZ,yFAAQ;IAInD,iCACE,QAAkB,EAClB,MAAc,EACd,KAAY,EACZ,YAA0B,EAClB,WAAwB;QALlC,YAOE,kBAAM,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,CAAC,SAC7C;QAHS,iBAAW,GAAX,WAAW,CAAa;;IAGlC,CAAC;IAEK,0CAAQ,GAAd;;;;4BACE,qBAAM,IAAI,CAAC,QAAQ,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAEa,0CAAQ,GAAtB;;;;gBACE,IAAI,CAAC,SAAS,GAAG,IAAI,wDAAS,CAAC;oBAC7B,kBAAkB,EAAE,IAAI,0DAAW,OAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,gEAAS,CAAC,WAAW,CAAC,0CAAE,kBAAkB,CAAC;oBACzG,mBAAmB,EAAE,IAAI,0DAAW,OAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,gEAAS,CAAC,WAAW,CAAC,0CAAE,mBAAmB,CAAC;iBAC5G,CAAC,CAAC;;;;KACJ;IAEM,4CAAU,GAAjB;QACE,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC;QAE9D,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;SACpC;QAED,IAAI,CAAC,KAAK;aACP,QAAQ,CAAC,IAAI,sFAA6B,CAAC,MAAM,CAAC,CAAC;aACnD,IAAI,CAAC,4DAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,cAAO,CAAC,EACR,UAAC,KAAU;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC,CACF,CAAC;IACN,CAAC;IAEM,6CAAW,GAAlB;QACE,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC;QAE/D,IAAI,CAAC,KAAK;aACP,QAAQ,CAAC,IAAI,uFAA8B,CAAC,MAAM,CAAC,CAAC;aACpD,IAAI,CAAC,4DAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,cAAO,CAAC,EACR,UAAC,KAAU;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC,CACF,CAAC;IACN,CAAC;;gBAtEM,wDAAQ;gBAHR,sDAAM;gBACN,iDAAK;gBACL,gEAAY;gBAOZ,sEAAW;;IAOP,uBAAuB;QALnC,+DAAS,CAAC;YACT,QAAQ,EAAE,0BAA0B;YACpC,8PAA+C;;SAEhD,CAAC;OACW,uBAAuB,CA0DnC;IAAD,8BAAC;CAAA,CA1D4C,wDAAQ,GA0DpD;AA1DmC","file":"manage-notifications-manage-notifications-module.js","sourcesContent":["export default \"<app-header\\n  [showBackButton]=\\\"showBackButton\\\"\\n  [title]=\\\"'settings.notifications'\\\"\\n  (backButtonClick)=\\\"goBack()\\\"\\n></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"flex-container\\\">\\n    <form *ngIf=\\\"formGroup\\\" [formGroup]=\\\"formGroup\\\">\\n      <ion-row class=\\\"flex-item\\\">\\n        <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n          <div class=\\\"screen-big-title\\\" color=\\\"secondary\\\">{{ 'manageNotifications.title' | translate }}</div>\\n        </ion-col>\\n      </ion-row>\\n\\n      <div class=\\\"flex-justify-content-center\\\">\\n        <div class=\\\"pr col-xs-12 col-sm-8 col-lg-6\\\">\\n          <ion-item lines=\\\"full\\\" class=\\\"ion-margin ion-no-border\\\">\\n            <ion-label class=\\\"regular-size\\\">{{ 'manageNotifications.push' | translate }}</ion-label>\\n            <ion-toggle\\n              slot=\\\"end\\\"\\n              name=\\\"all\\\"\\n              color=\\\"secondary\\\"\\n              [formControlName]=\\\"'push_notifications'\\\"\\n              (ionChange)=\\\"changePush()\\\"\\n            ></ion-toggle>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"flex-justify-content-center\\\">\\n        <div class=\\\"pr col-xs-12 col-sm-8 col-lg-6\\\">\\n          <ion-item lines=\\\"full\\\" class=\\\"ion-margin ion-no-border\\\">\\n            <ion-label class=\\\"regular-size\\\">{{ 'manageNotifications.email' | translate }}</ion-label>\\n            <ion-toggle\\n              slot=\\\"end\\\"\\n              name=\\\"all\\\"\\n              color=\\\"secondary\\\"\\n              [formControlName]=\\\"'email_notifications'\\\"\\n              (ionChange)=\\\"changeEmail()\\\"\\n            ></ion-toggle>\\n          </ion-item>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ManageNotificationsPage } from './manage-notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ManageNotificationsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageNotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { ManageNotificationsPageRoutingModule } from './manage-notifications-routing.module';\n\nimport { ManageNotificationsPage } from './manage-notifications.page';\nimport { SharedModule } from '../@shared/shared.module';\n\n@NgModule({\n  imports: [SharedModule, ManageNotificationsPageRoutingModule],\n  declarations: [ManageNotificationsPage],\n})\nexport class ManageNotificationsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21hbmFnZS1ub3RpZmljYXRpb25zL21hbmFnZS1ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { BasePage } from '../base/base.page';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../@core/utils.service';\nimport { Location } from '@angular/common';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { UserState } from '../@store/user/user.state';\nimport { IUserInfo } from '../@store/user/user.model';\nimport { UpdateEmailNotificationsStatus, UpdatePushNotificationsStatus } from '../@store/user/user.actions';\nimport { take } from 'rxjs/operators';\nimport { PushService } from 'src/app/@core/push.service';\n\n@Component({\n  selector: 'app-manage-notifications',\n  templateUrl: './manage-notifications.page.html',\n  styleUrls: ['./manage-notifications.page.scss'],\n})\nexport class ManageNotificationsPage extends BasePage implements OnInit {\n  public formGroup: FormGroup;\n  public userInfo: IUserInfo;\n\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    private pushService: PushService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  async ngOnInit() {\n    await this.initForm();\n  }\n\n  private async initForm(): Promise<void> {\n    this.formGroup = new FormGroup({\n      push_notifications: new FormControl(this.store.selectSnapshot(UserState.getUserInfo)?.push_notifications),\n      email_notifications: new FormControl(this.store.selectSnapshot(UserState.getUserInfo)?.email_notifications),\n    });\n  }\n\n  public changePush(): void {\n    const active = this.formGroup.get('push_notifications').value;\n\n    if (active) {\n      this.pushService.activatePush();\n    } else {\n      this.pushService.desactivatePush();\n    }\n\n    this.store\n      .dispatch(new UpdatePushNotificationsStatus(active))\n      .pipe(take(1))\n      .subscribe(\n        () => {},\n        (error: any) => {\n          console.log(error);\n        }\n      );\n  }\n\n  public changeEmail(): void {\n    const active = this.formGroup.get('email_notifications').value;\n\n    this.store\n      .dispatch(new UpdateEmailNotificationsStatus(active))\n      .pipe(take(1))\n      .subscribe(\n        () => {},\n        (error: any) => {\n          console.log(error);\n        }\n      );\n  }\n}\n"],"sourceRoot":"webpack:///"}