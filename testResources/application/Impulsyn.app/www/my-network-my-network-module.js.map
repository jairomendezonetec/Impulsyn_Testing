{"version":3,"sources":["./src/app/networking/components/item-following/item-following.component.html","./src/app/networking/my-network/my-network.page.html","./src/app/networking/components/item-following/item-following.component.scss","./src/app/networking/components/item-following/item-following.component.ts","./src/app/networking/components/item-following/item-following.module.ts","./src/app/networking/my-network/my-network-routing.module.ts","./src/app/networking/my-network/my-network.module.ts","./src/app/networking/my-network/my-network.page.scss","./src/app/networking/my-network/my-network.page.ts"],"names":[],"mappings":"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","file":"my-network-my-network-module.js","sourcesContent":["export default \"<div class=\\\"item-profile\\\" (click)=\\\"onItemClick()\\\">\\n  <div>\\n    <img [src]=\\\"info.photo\\\" class=\\\"avatar-image\\\" />\\n  </div>\\n  <div class=\\\"avatar-text col-xs-8 col-md-8\\\">\\n    <div class=\\\"small-size\\\">{{ info.complete_name }}</div>\\n    <div class=\\\"small-size\\\">{{ prefix + '.' + info.organization_subtype.name | translate }}</div>\\n    <div class=\\\"small-size\\\" *ngIf=\\\"hasLocation\\\">{{ itemLocation }}</div>\\n  </div>\\n  <div class=\\\"col-xs-2 col-md-2 followingLink\\\">\\n    <span color=\\\"secondary\\\" class=\\\"small-size ion-text-end\\\">{{ 'myNetwork.following' | translate }}</span>\\n  </div>\\n</div>\\n\";","export default \"<app-header [title]=\\\"'myNetwork.title' | translate\\\" [showBackButton]=\\\"true\\\" (backButtonClick)=\\\"goBack()\\\"></app-header>\\n\\n<ion-content>\\n  <ion-segment [(ngModel)]=\\\"segmentModel\\\" (ionChange)=\\\"segmentChanged($event)\\\" color=\\\"secondary\\\">\\n    <ion-segment-button value=\\\"people\\\">\\n      <ion-label>{{'myNetwork.people' | translate}}</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"pages\\\">\\n      <ion-label>{{'myNetwork.pages' | translate}}</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  <div *ngIf=\\\"segmentModel === 'people'\\\">\\n    <div *ngFor=\\\"let item of items\\\">\\n      <app-item-suggestion\\n        [info]=\\\"item\\\"\\n        [buttonText]=\\\"'message'\\\"\\n        (actionItemClick)=\\\"onItemClick($event)\\\"\\n        (actionButtonClick)=\\\"onButtonClick($event)\\\"\\n      ></app-item-suggestion>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"items.length === 0\\\"> </app-empty>\\n  </div>\\n  <div *ngIf=\\\"segmentModel === 'pages'\\\">\\n    <div *ngFor=\\\"let item of pages\\\">\\n      <app-item-following [info]=\\\"item\\\" (actionItemClick)=\\\"onItemOrganizationClick($event)\\\"></app-item-following>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"pages.length === 0\\\"> </app-empty>\\n  </div>\\n</ion-content>\\n\";","export default \".followingLink {\\n  padding-bottom: 4px;\\n  align-self: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV0d29ya2luZy9jb21wb25lbnRzL2l0ZW0tZm9sbG93aW5nL2l0ZW0tZm9sbG93aW5nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQUE7RUFDQSxvQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbmV0d29ya2luZy9jb21wb25lbnRzL2l0ZW0tZm9sbG93aW5nL2l0ZW0tZm9sbG93aW5nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvbGxvd2luZ0xpbmsge1xuICBwYWRkaW5nLWJvdHRvbTogNHB4O1xuICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbn1cbiJdfQ== */\";","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { Utils } from '../../../@global/utils';\nimport { IOrganizationInfo } from '../../../@shared/interfaces/organization-info';\n\n@Component({\n  selector: 'app-item-following',\n  templateUrl: './item-following.component.html',\n  styleUrls: ['./item-following.component.scss'],\n})\nexport class ItemFollowingComponent implements OnInit, OnChanges {\n  @Input() info: IOrganizationInfo;\n  @Output() actionItemClick = new EventEmitter<string>();\n  public hasLocation: boolean;\n  public itemLocation: string;\n  public prefix: string;\n  constructor() {}\n\n  ngOnInit() {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['info']?.currentValue) {\n      this.hasLocation = !!this.info.country;\n\n      if (this.hasLocation) {\n        this.itemLocation = Utils.generateUserFriendlyLocation(\n          this.info.country,\n          this.info.region,\n          this.info.city,\n          this.info.province,\n          this.info.region_name\n        );\n      }\n      this.prefix = Utils.getSubtypeTranslationPrefix(this.info.organization_type);\n    }\n  }\n\n  public onItemClick(): void {\n    this.actionItemClick.emit(this.info.id);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ItemFollowingComponent } from './item-following.component';\n\n@NgModule({\n  declarations: [ItemFollowingComponent],\n  imports: [IonicModule, TranslateModule.forChild(), CommonModule],\n  exports: [ItemFollowingComponent],\n})\nexport class ItemFollowingModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyNetworkPage } from './my-network.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyNetworkPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyNetworkPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { MyNetworkPageRoutingModule } from './my-network-routing.module';\n\nimport { MyNetworkPage } from './my-network.page';\nimport { SharedModule } from '../../@shared/shared.module';\nimport { ItemSuggestionModule } from '../components/item-suggestion/item-suggestion.module';\nimport { ItemFollowingModule } from '../components/item-following/item-following.module';\nimport { EmptyModule } from '../../profiles/components/empty/empty.module';\n\n@NgModule({\n  imports: [SharedModule, MyNetworkPageRoutingModule, ItemSuggestionModule, ItemFollowingModule, EmptyModule],\n  declarations: [MyNetworkPage],\n})\nexport class MyNetworkPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25ldHdvcmtpbmcvbXktbmV0d29yay9teS1uZXR3b3JrLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BasePage } from '../../base/base.page';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Select, Store } from '@ngxs/store';\nimport { UtilsService } from '../../@core/utils.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { UserPublicInfo } from '../models/user-public-info.model';\nimport { UserState } from '../../@store/user/user.state';\nimport { GetConnectionsAction } from '../../@store/network/network.actions';\nimport { NetworkState } from '../../@store/network/network.state';\nimport { GetFollowedPages } from '../../@store/pages/pages.actions';\nimport { PagesState } from '../../@store/pages/pages.state';\nimport { IOrganizationInfo } from '../../@shared/interfaces/organization-info';\nimport { PUBLISHER_TYPE } from '../../@shared/enums/publisher-type';\n\n@Component({\n  selector: 'app-my-network',\n  templateUrl: './my-network.page.html',\n  styleUrls: ['./my-network.page.scss'],\n})\nexport class MyNetworkPage extends BasePage implements OnInit, OnDestroy {\n  @Select(NetworkState.getContacts) userContactsList$: Observable<UserPublicInfo[]>;\n  @Select(PagesState.getFollowedPageList) userPagesList$: Observable<IOrganizationInfo[]>;\n\n  private subscriptionContacts$: Subscription;\n  private subscriptionPages$: Subscription;\n  public segmentModel = 'people';\n  public items: UserPublicInfo[];\n  public pages: IOrganizationInfo[];\n\n  constructor(router: Router, location: Location, store: Store, utilsService: UtilsService) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.loadConnections();\n    this.loadPages();\n  }\n\n  ionViewWillEnter() {\n    const user = this.store.selectSnapshot(UserState.getUserInfo);\n    this.store.dispatch(new GetConnectionsAction({ id: user.id }));\n    this.store.dispatch(new GetFollowedPages());\n  }\n\n  private loadConnections(): void {\n    this.subscriptionContacts$ = this.userContactsList$.subscribe((data) => {\n      this.items = data;\n    });\n  }\n\n  private loadPages(): void {\n    this.subscriptionPages$ = this.userPagesList$.subscribe((data) => {\n      this.pages = data;\n    });\n  }\n\n  public segmentChanged(ev: any) {\n    console.log('Segment changed', ev);\n  }\n\n  public onItemClick($event) {\n    this.utilsService.goProfile($event.model.id, PUBLISHER_TYPE.USER);\n  }\n\n  public onButtonClick($event) {\n    this.utilsService.goChatDetailWithUserData($event.id, $event.completeName);\n  }\n\n  public onItemOrganizationClick($event) {\n    this.utilsService.goProfile($event, 0);\n  }\n\n  ngOnDestroy(): void {\n    this.disconnectObservers();\n  }\n\n  private disconnectObservers(): void {\n    if (this.subscriptionContacts$) {\n      this.subscriptionContacts$.unsubscribe();\n    }\n    if (this.subscriptionPages$) {\n      this.subscriptionPages$.unsubscribe();\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}