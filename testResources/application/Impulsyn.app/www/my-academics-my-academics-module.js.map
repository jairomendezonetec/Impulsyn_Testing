{"version":3,"sources":["./src/app/academics/my-academics/my-academics.page.html","./src/app/academics/my-academics/my-academics-routing.module.ts","./src/app/academics/my-academics/my-academics.module.ts","./src/app/academics/my-academics/my-academics.page.scss","./src/app/academics/my-academics/my-academics.page.ts"],"names":[],"mappings":"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","file":"my-academics-my-academics-module.js","sourcesContent":["export default \"<app-header\\n  [title]=\\\"'myAcademics.title' | translate\\\"\\n  [showBackButton]=\\\"showBackButton\\\"\\n  (backButtonClick)=\\\"goBack()\\\"\\n></app-header>\\n\\n<ion-content>\\n  <ion-segment [(ngModel)]=\\\"segmentModel\\\" (ionChange)=\\\"segmentChanged($event)\\\" color=\\\"secondary\\\">\\n    <ion-segment-button value=\\\"favorites\\\">\\n      <ion-label>{{'myAcademics.favorites' | translate}}</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"requested\\\">\\n      <ion-label>{{'myAcademics.requested' | translate}}</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  <div *ngIf=\\\"segmentModel === 'requested'\\\">\\n    <div *ngFor=\\\"let item of items\\\">\\n      <app-academic-item\\n        [program]=\\\"item\\\"\\n        (itemClick)=\\\"onItemClick($event)\\\"\\n        [hasPhoto]=\\\"true\\\"\\n        [linkText]=\\\"'academics.seeMore'\\\"\\n      ></app-academic-item>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"items.length === 0\\\"> </app-empty>\\n  </div>\\n  <div *ngIf=\\\"segmentModel === 'favorites'\\\">\\n    <div *ngFor=\\\"let item of itemsSaved\\\">\\n      <app-academic-item\\n        [program]=\\\"item\\\"\\n        [hasPhoto]=\\\"true\\\"\\n        [editable]=\\\"true\\\"\\n        [iconNameInitial]=\\\"'heart'\\\"\\n        [iconNameTapped]=\\\"'heart-outline'\\\"\\n        (iconClick)=\\\"onFavoriteClick($event)\\\"\\n        (itemClick)=\\\"onFavoriteItemClick($event)\\\"\\n      ></app-academic-item>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"itemsSaved.length === 0\\\"> </app-empty>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyAcademicsPage } from './my-academics.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyAcademicsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyAcademicsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { MyAcademicsPageRoutingModule } from './my-academics-routing.module';\n\nimport { MyAcademicsPage } from './my-academics.page';\nimport { SharedModule } from '../../@shared/shared.module';\nimport { EmptyModule } from '../../profiles/components/empty/empty.module';\n\n@NgModule({\n  imports: [SharedModule, MyAcademicsPageRoutingModule, EmptyModule],\n  declarations: [MyAcademicsPage],\n})\nexport class MyAcademicsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjYWRlbWljcy9teS1hY2FkZW1pY3MvbXktYWNhZGVtaWNzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BasePage } from '../../base/base.page';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../../@core/utils.service';\nimport {\n  DeleteAcademicProgramsFavourite,\n  GetAcademicProgramsFavourites,\n  GetAcademicProgramsRequested,\n  SetCurrentAcademicProgram,\n} from 'src/app/@store/academic-programs/academic-programs.actions';\nimport { Subscription } from 'rxjs';\nimport { AcademicProgramsState } from 'src/app/@store/academic-programs/academic-programs.state';\nimport { IAcademicProgram } from '../../@store/academic-programs/academic-programs.model';\n\n@Component({\n  selector: 'app-my-academics',\n  templateUrl: './my-academics.page.html',\n  styleUrls: ['./my-academics.page.scss'],\n})\nexport class MyAcademicsPage extends BasePage implements OnInit, OnDestroy {\n  public segmentModel = 'favorites';\n\n  public items: IAcademicProgram[];\n  public itemsSaved: IAcademicProgram[];\n  private favouritesSubscription: Subscription;\n  private requestedSubscription: Subscription;\n\n  constructor(router: Router, location: Location, store: Store, utilsService: UtilsService) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.subscribeToFavourites();\n    this.subscribeToRequested();\n  }\n\n  public doIonViewWillEnter(): void {\n    this.store.dispatch(new GetAcademicProgramsFavourites());\n    this.store.dispatch(new GetAcademicProgramsRequested());\n  }\n\n  private subscribeToFavourites() {\n    this.favouritesSubscription = this.store\n      .select(AcademicProgramsState.getAcademicProgramsFavourites)\n      .subscribe((res: IAcademicProgram[]) => {\n        this.itemsSaved = res;\n      });\n  }\n\n  private subscribeToRequested() {\n    this.requestedSubscription = this.store\n      .select(AcademicProgramsState.getAcademicProgramsRequested)\n      .subscribe((res: IAcademicProgram[]) => {\n        this.items = res;\n      });\n  }\n\n  public segmentChanged(ev: any) {\n    console.log('Segment changed', ev);\n  }\n\n  onFavoriteClick($event) {\n    this.store.dispatch(new DeleteAcademicProgramsFavourite($event));\n  }\n\n  onItemClick($event) {\n    const program = this.store\n      .selectSnapshot(AcademicProgramsState.getAcademicProgramsRequested)\n      .find((item) => item.id === $event);\n    const programUpdated: IAcademicProgram = { ...program, own: false } as IAcademicProgram;\n    this.store.dispatch(new SetCurrentAcademicProgram(programUpdated));\n    this.router.navigate(['academic-program-detail', $event]);\n  }\n\n  onFavoriteItemClick($event) {\n    const program = this.store\n      .selectSnapshot(AcademicProgramsState.getAcademicProgramsFavourites)\n      .find((item) => item.id === $event);\n    const programUpdated: IAcademicProgram = { ...program, own: false } as IAcademicProgram;\n    this.store.dispatch(new SetCurrentAcademicProgram(programUpdated));\n    this.router.navigate(['academic-program-detail', $event]);\n  }\n\n  private disconnectObservers(): void {\n    if (this.favouritesSubscription) {\n      this.favouritesSubscription.unsubscribe();\n    }\n\n    if (this.requestedSubscription) {\n      this.requestedSubscription.unsubscribe();\n    }\n  }\n\n  ngOnDestroy() {\n    this.disconnectObservers();\n  }\n}\n"],"sourceRoot":"webpack:///"}