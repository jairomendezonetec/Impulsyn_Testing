{"version":3,"sources":["./src/app/opportunities/my-opportunities/my-opportunities.page.html","./src/app/opportunities/my-opportunities/my-opportunities-routing.module.ts","./src/app/opportunities/my-opportunities/my-opportunities.module.ts","./src/app/opportunities/my-opportunities/my-opportunities.page.scss","./src/app/opportunities/my-opportunities/my-opportunities.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,oZAAqV,yCAAyC,0GAA0G,yCAAyC,yiCAAyiC,E;;;;;;;;;;;;;;;;;;;ACAhiD;AACc;AAEO;AAE9D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,0EAAmB;KAC/B;CACF,CAAC;;;IAM6C,CAAC;IAAnC,gCAAgC;QAJ5C,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,gCAAgC,CAAG;IAAD,uCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;AChBJ;AAE4C;AAEvB;AACH;AACgB;;;IAMnC,CAAC;IAA5B,yBAAyB;QAJrC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,kEAAY,EAAE,iGAAgC,EAAE,mFAAW,CAAC;YACtE,YAAY,EAAE,CAAC,0EAAmB,CAAC;SACpC,CAAC;OACW,yBAAyB,CAAG;IAAD,gCAAC;CAAA;AAAH;;;;;;;;;;;;;ACZtC;AAAe,6GAA8C,mLAAmL,E;;;;;;;;;;;;;;;;;;;;;;;;ACAnL;AACb;AACP;AACE;AACP;AACqB;AAEmB;AAOtB;;IAOb,qFAAQ;IAQ/C,6BAAY,MAAc,EAAE,QAAkB,EAAE,KAAY,EAAE,YAA0B;QAAxF,YACE,kBAAM,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,CAAC,SAC7C;QATM,kBAAY,GAAG,WAAW,CAAC;;IASlC,CAAC;IAED,sCAAQ,GAAR;QACE,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAEM,gDAAkB,GAAzB;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,kGAAsB,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,iGAAqB,EAAE,CAAC,CAAC;IACnD,CAAC;IAEO,mDAAqB,GAA7B;QAAA,iBAMC;QALC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK;aACrC,MAAM,CAAC,wFAAc,CAAC,sBAAsB,CAAC;aAC7C,SAAS,CAAC,UAAC,GAAgB;YAC1B,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,kDAAoB,GAA5B;QAAA,iBAMC;QALC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK;aACpC,MAAM,CAAC,wFAAc,CAAC,qBAAqB,CAAC;aAC5C,SAAS,CAAC,UAAC,GAAgB;YAC1B,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IACM,4CAAc,GAArB,UAAsB,EAAO;QAC3B,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;IACrC,CAAC;IAED,6CAAe,GAAf,UAAgB,MAAM;QACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,mGAAuB,CAAC,MAAM,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,iDAAmB,GAAnB,UAAoB,KAAK;QACvB,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK;aAC3B,cAAc,CAAC,wFAAc,CAAC,sBAAsB,CAAC;aACrD,IAAI,CAAC,UAAC,IAAI,IAAK,WAAI,CAAC,EAAE,KAAK,KAAK,EAAjB,CAAiB,CAAC,CAAC;QAErC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;IAC1C,CAAC;IAED,yCAAW,GAAX,UAAY,KAAK;QACf,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK;aAC3B,cAAc,CAAC,wFAAc,CAAC,qBAAqB,CAAC;aACpD,IAAI,CAAC,UAAC,IAAI,IAAK,WAAI,CAAC,EAAE,KAAK,KAAK,EAAjB,CAAiB,CAAC,CAAC;QAErC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;IAC1C,CAAC;IAEO,mDAAqB,GAA7B,UAA8B,WAAsB;QAClD,IAAM,kBAAkB,GAAc,kHAAK,WAAW,KAAE,GAAG,EAAE,KAAK,GAAe,CAAC;QAClF,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,8FAAkB,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/D,CAAC;IAEO,iDAAmB,GAA3B;QACE,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC/B,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE,CAAC;SAC3C;QAED,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC9B,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;SAC1C;IACH,CAAC;IAED,yCAAW,GAAX;QACE,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;;gBAlGM,sDAAM;gBACN,wDAAQ;gBACR,iDAAK;gBACL,gEAAY;;IAgBR,mBAAmB;QAL/B,+DAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;YAChC,gQAA2C;;SAE5C,CAAC;OACW,mBAAmB,CAgF/B;IAAD,0BAAC;CAAA,CAhFwC,wDAAQ,GAgFhD;AAhF+B","file":"my-opportunities-my-opportunities-module.js","sourcesContent":["export default \"<app-header\\n  [title]=\\\"'myOpportunities.title' | translate\\\"\\n  [showBackButton]=\\\"showBackButton\\\"\\n  (backButtonClick)=\\\"goBack()\\\"\\n></app-header>\\n\\n<ion-content>\\n  <ion-segment [(ngModel)]=\\\"segmentModel\\\" (ionChange)=\\\"segmentChanged($event)\\\" color=\\\"secondary\\\">\\n    <ion-segment-button value=\\\"favorites\\\">\\n      <ion-label>{{'myOpportunities.favorites' | translate}}</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"requested\\\">\\n      <ion-label>{{'myOpportunities.requested' | translate}}</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  <div *ngIf=\\\"segmentModel === 'requested'\\\">\\n    <div *ngFor=\\\"let item of items\\\">\\n      <app-opportunity-item\\n        [info]=\\\"item\\\"\\n        [hasPhoto]=\\\"true\\\"\\n        [linkText]=\\\"'opportunities.seeMore'\\\"\\n        (itemClick)=\\\"onItemClick($event)\\\"\\n      ></app-opportunity-item>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"items.length === 0\\\"> </app-empty>\\n  </div>\\n  <div *ngIf=\\\"segmentModel === 'favorites'\\\">\\n    <div *ngFor=\\\"let item of itemsSaved\\\">\\n      <app-opportunity-item\\n        [info]=\\\"item\\\"\\n        [hasPhoto]=\\\"true\\\"\\n        [editable]=\\\"true\\\"\\n        [iconNameInitial]=\\\"'heart'\\\"\\n        [iconNameTapped]=\\\"'heart-outline'\\\"\\n        (iconClick)=\\\"onFavoriteClick($event)\\\"\\n        (itemClick)=\\\"onFavoriteItemClick($event)\\\"\\n      ></app-opportunity-item>\\n    </div>\\n    <app-empty [showButton]=\\\"false\\\" text=\\\"userProfile.noData\\\" *ngIf=\\\"itemsSaved.length === 0\\\"> </app-empty>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyOpportunitiesPage } from './my-opportunities.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyOpportunitiesPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyOpportunitiesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { MyOpportunitiesPageRoutingModule } from './my-opportunities-routing.module';\n\nimport { MyOpportunitiesPage } from './my-opportunities.page';\nimport { SharedModule } from '../../@shared/shared.module';\nimport { EmptyModule } from '../../profiles/components/empty/empty.module';\n\n@NgModule({\n  imports: [SharedModule, MyOpportunitiesPageRoutingModule, EmptyModule],\n  declarations: [MyOpportunitiesPage],\n})\nexport class MyOpportunitiesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29wcG9ydHVuaXRpZXMvbXktb3Bwb3J0dW5pdGllcy9teS1vcHBvcnR1bml0aWVzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BasePage } from '../../base/base.page';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../../@core/utils.service';\nimport { Subscription } from 'rxjs';\nimport { JobOffersState } from 'src/app/@store/job-offers/job-offers.state';\nimport { IJobOffer } from '../../@store/job-offers/job-offers.model';\nimport {\n  DeleteJobOfferFavourite,\n  GetJobOffersFavourites,\n  GetJobOffersRequested,\n  SetCurrentJobOffer,\n} from 'src/app/@store/job-offers/job-offers.actions';\n\n@Component({\n  selector: 'app-my-opportunities',\n  templateUrl: './my-opportunities.page.html',\n  styleUrls: ['./my-opportunities.page.scss'],\n})\nexport class MyOpportunitiesPage extends BasePage implements OnInit, OnDestroy {\n  public segmentModel = 'favorites';\n\n  public items: IJobOffer[];\n  public itemsSaved: any[];\n  private favouritesSubscription: Subscription;\n  private requestedSubscription: Subscription;\n\n  constructor(router: Router, location: Location, store: Store, utilsService: UtilsService) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.subscribeToFavourites();\n    this.subscribeToRequested();\n  }\n\n  public doIonViewWillEnter(): void {\n    this.store.dispatch(new GetJobOffersFavourites());\n    this.store.dispatch(new GetJobOffersRequested());\n  }\n\n  private subscribeToFavourites() {\n    this.favouritesSubscription = this.store\n      .select(JobOffersState.getJobOffersFavourites)\n      .subscribe((res: IJobOffer[]) => {\n        this.itemsSaved = res;\n      });\n  }\n\n  private subscribeToRequested() {\n    this.requestedSubscription = this.store\n      .select(JobOffersState.getJobOffersRequested)\n      .subscribe((res: IJobOffer[]) => {\n        this.items = res;\n      });\n  }\n  public segmentChanged(ev: any) {\n    console.log('Segment changed', ev);\n  }\n\n  onFavoriteClick($event) {\n    this.store.dispatch(new DeleteJobOfferFavourite($event));\n  }\n\n  onFavoriteItemClick(event) {\n    const opportunity = this.store\n      .selectSnapshot(JobOffersState.getJobOffersFavourites)\n      .find((item) => item.id === event);\n\n    this.goToOpportunityDetail(opportunity);\n  }\n\n  onItemClick(event) {\n    const opportunity = this.store\n      .selectSnapshot(JobOffersState.getJobOffersRequested)\n      .find((item) => item.id === event);\n\n    this.goToOpportunityDetail(opportunity);\n  }\n\n  private goToOpportunityDetail(opportunity: IJobOffer): void {\n    const opportunityUpdated: IJobOffer = { ...opportunity, own: false } as IJobOffer;\n    this.store.dispatch(new SetCurrentJobOffer(opportunityUpdated));\n    this.router.navigate(['opportunity-detail', opportunity.id]);\n  }\n\n  private disconnectObservers(): void {\n    if (this.favouritesSubscription) {\n      this.favouritesSubscription.unsubscribe();\n    }\n\n    if (this.requestedSubscription) {\n      this.requestedSubscription.unsubscribe();\n    }\n  }\n\n  ngOnDestroy() {\n    this.disconnectObservers();\n  }\n}\n"],"sourceRoot":"webpack:///"}