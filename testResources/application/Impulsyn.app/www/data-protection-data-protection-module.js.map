{"version":3,"sources":["./src/app/data-protection/data-protection.page.html","./src/app/base/profile-image-editor-base.page.ts","./src/app/data-protection/data-protection-routing.module.ts","./src/app/data-protection/data-protection.module.ts","./src/app/data-protection/data-protection.page.scss","./src/app/data-protection/data-protection.page.ts"],"names":[],"mappings":"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","file":"data-protection-data-protection-module.js","sourcesContent":["export default \"<app-header [showBackButton]=\\\"showBackButton\\\" [titleImage]=\\\"logoPath\\\" (backButtonClick)=\\\"goBack()\\\"></app-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"flex-container\\\">\\n    <ion-row class=\\\"flex-item\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        <div class=\\\"screen-big-title\\\" [innerHTML]=\\\"'dataProtection.title' | translate\\\"></div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size bold\\\">{{'dataProtection.title1' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size\\\">{{'dataProtection.text1' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size bold\\\">{{'dataProtection.title2' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size\\\">{{'dataProtection.text2' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size bold\\\">{{'dataProtection.title3' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size\\\">{{'dataProtection.text3' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size bold\\\">{{'dataProtection.title4' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size\\\">{{'dataProtection.text4' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size bold\\\">{{'dataProtection.title5' | translate}}</span>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-margin-vertical\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-start\\\">\\n        <span class=\\\"regular-small-size\\\">{{'dataProtection.text5' | translate}}</span\\n        ><a (click)=\\\"openPrivacyPolicy()\\\" class=\\\"regular-small-size underline\\\">link</a>\\n      </ion-col>\\n    </ion-row>\\n    <div class=\\\"flex-justify-content-center ion-margin-bottom\\\">\\n      <form [formGroup]=\\\"formGroup\\\">\\n        <div class=\\\"pr col-xs-12 col-sm-8 col-lg-6\\\">\\n          <ion-item class=\\\"ion-no-border apply-checkbox\\\">\\n            <ion-checkbox [formControlName]=\\\"'acceptConditions'\\\" color=\\\"secondary\\\"></ion-checkbox>\\n            <ion-label class=\\\"regular-small-size\\\"\\n              >{{ 'dataProtection.check' | translate }}<a\\n                (click)=\\\"openConditions()\\\"\\n                class=\\\"regular-small-size underline\\\"\\n                >{{ 'dataProtection.checkLink' | translate }}</a\\n              ></ion-label\\n            >\\n          </ion-item>\\n        </div>\\n      </form>\\n    </div>\\n    <ion-row class=\\\"flex-row ion-padding-bottom ion-margin-bottom\\\">\\n      <div class=\\\"col-xs-6 ion-justify-content-center\\\">\\n        <ion-button class=\\\"secondary-button\\\" (click)=\\\"navigateTo('/login')\\\">\\n          {{'buttons.reject' | translate}}</ion-button\\n        >\\n      </div>\\n      <div class=\\\"col-xs-6 ion-justify-content-center\\\">\\n        <ion-button color=\\\"secondary\\\" (click)=\\\"onAcceptButtonClick()\\\"> {{'buttons.accept' | translate}}</ion-button>\\n      </div>\\n    </ion-row>\\n  </div>\\n</ion-content>\\n\";","import { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { SafeUrl } from '@angular/platform-browser';\nimport { Store } from '@ngxs/store';\nimport { Camera } from '@ionic-native/camera/ngx';\n\nimport { UtilsService } from '../@core/utils.service';\nimport { BasePage } from './base.page';\nimport { Utils } from '../@global/utils';\nimport { InformService } from '../@core/inform.service';\n\nexport class ProfileImageEditorBasePage extends BasePage {\n  public profileImage: SafeUrl;\n  public imageOriginalPath: string;\n\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    protected camera: Camera,\n    protected informService: InformService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  protected pickImageGallery = () => {\n    this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n  };\n\n  protected pickImageCamera = () => {\n    this.pickImage(this.camera.PictureSourceType.CAMERA);\n  };\n\n  protected async pickImage(sourceType: number): Promise<void> {\n    try {\n      const imageData = await this.utilsService.getMediaFromCameraPlugin(sourceType, this.camera.MediaType.PICTURE);\n\n      const { path, filename } = Utils.getPathAndFilenameFromUrl(imageData.imageOriginalPath);\n      const file = await this.utilsService.getFileFromSystemPath(path, filename);\n\n      if (!Utils.isImageMediaType(file.type)) {\n        this.informService.showWarning('createPost.wrongImageType');\n        return;\n      }\n\n      this.imageOriginalPath = imageData.imageOriginalPath;\n      this.profileImage = imageData.imageSource;\n    } catch (error) {\n      console.error('[ProfileImageEditorBasePage pickImage] error taking a picture');\n      console.error(error);\n\n      const capturedError = new Error('Error in pickImage: ' + error);\n      capturedError.name = '[ProfileImageEditorBasePage error]';\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DataProtectionPage } from './data-protection.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DataProtectionPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DataProtectionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { DataProtectionPageRoutingModule } from './data-protection-routing.module';\n\nimport { DataProtectionPage } from './data-protection.page';\nimport { SharedModule } from '../@shared/shared.module';\n\n@NgModule({\n  imports: [SharedModule, DataProtectionPageRoutingModule],\n  declarations: [DataProtectionPage],\n})\nexport class DataProtectionPageModule {}\n","export default \".apply-checkbox ion-label {\\n  margin-left: 10px;\\n  white-space: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGF0YS1wcm90ZWN0aW9uL2RhdGEtcHJvdGVjdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FBQUoiLCJmaWxlIjoic3JjL2FwcC9kYXRhLXByb3RlY3Rpb24vZGF0YS1wcm90ZWN0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hcHBseS1jaGVja2JveCB7XG4gIGlvbi1sYWJlbCB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgfVxufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { SignupBasePage } from '../signup-flow/signup-base.page';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../@core/utils.service';\nimport { StorageService } from '../@core/storage.service';\nimport { NavigationExtrasService } from '../@core/navigation-extras.service';\nimport { GoogleAnalyticsService } from '../@core/google-analytics.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Constants } from '../@global/constants';\nimport { InformService } from '../@core/inform.service';\nimport { AuthState } from '../@store/auth/auth.state';\nimport { CreateUserLegalTerms } from '../@store/global-info/global-info.actions';\nimport { UserState } from '../@store/user/user.state';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { EncoderService } from '../@core/encoder.service';\nimport { CommonState } from '../@store/common/common.state';\n\n@Component({\n  selector: 'app-data-protection',\n  templateUrl: './data-protection.page.html',\n  styleUrls: ['./data-protection.page.scss'],\n})\nexport class DataProtectionPage extends SignupBasePage implements OnInit {\n  public formGroup: FormGroup;\n  private language;\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    camera: Camera,\n    informService: InformService,\n    storage: StorageService,\n    navigationExtrasService: NavigationExtrasService,\n    googleAnalyticsService: GoogleAnalyticsService,\n    private formBuilder: FormBuilder,\n    private iab: InAppBrowser,\n    private encoder: EncoderService\n  ) {\n    super(\n      location,\n      router,\n      store,\n      utilsService,\n      camera,\n      informService,\n      storage,\n      navigationExtrasService,\n      googleAnalyticsService\n    );\n  }\n\n  async ngOnInit() {\n    this.initForm();\n    this.language = this.store.selectSnapshot(CommonState.getLanguage) || (await this.storage.getLanguage());\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      acceptConditions: [true],\n    });\n  }\n\n  public openPrivacyPolicy() {\n    this.iab.create(Constants.PRIVACY_POLICY_URL + '?lang=' + this.language);\n  }\n\n  public async openConditions() {\n    this.iab.create(Constants.USE_TERMS_AND_CONDITIONS_URL + '?lang=' + this.language);\n  }\n\n  public async onAcceptButtonClick() {\n    if (!this.formGroup.get('acceptConditions').value === true) {\n      this.informService.showWarning('dataProtection.acceptWarning');\n      return;\n    }\n\n    if (this.store.selectSnapshot(AuthState.getToken)) {\n      const encryptedEmail = this.encoder.setEncrypt(this.store.selectSnapshot(UserState.getUserInfo).email);\n      await this.store.dispatch(new CreateUserLegalTerms(encryptedEmail)).toPromise();\n      this.router.navigate([Constants.FIRST_PAGE_AFTER_LOGIN]);\n    } else {\n      this.router.navigate(['/signup']);\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}