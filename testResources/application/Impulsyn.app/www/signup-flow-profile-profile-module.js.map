{"version":3,"sources":["./src/app/signup-flow/profile/profile.page.html","./src/app/base/profile-image-editor-base.page.ts","./src/app/signup-flow/profile/profile-routing.module.ts","./src/app/signup-flow/profile/profile.module.ts","./src/app/signup-flow/profile/profile.page.scss","./src/app/signup-flow/profile/profile.page.ts"],"names":[],"mappings":"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","file":"signup-flow-profile-profile-module.js","sourcesContent":["export default \"<app-header [showBackButton]=\\\"showBackButton\\\" [titleImage]=\\\"logoPath\\\" (backButtonClick)=\\\"goBack()\\\"></app-header>\\n\\n<ion-content class=\\\"ion-padding background-with-dark-color\\\">\\n  <ion-grid class=\\\"flex-container\\\">\\n    <form [formGroup]=\\\"formGroup\\\">\\n      <ion-row class=\\\"flex-item\\\">\\n        <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n          <div class=\\\"screen-extrabig-title\\\" [innerHTML]=\\\"'profile.title' | translate\\\"></div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"flex-item ion-padding-vertical ion-margin-vertical\\\">\\n        <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n          <span class=\\\"small-size ion-text-center ion-margin-top\\\">{{ 'profile.text1' | translate }}</span><br />\\n          <span class=\\\"small-size ion-text-center ion-margin-top italic\\\">{{ 'profile.text2' | translate }}</span>\\n        </ion-col>\\n      </ion-row>\\n      <div class=\\\"flex-container-vertical ion-margin-bottom fill-all-line-centered ion-padding-bottom\\\">\\n        <div class=\\\"pr col-xs-10 col-sm-8 col-lg-6\\\">\\n          <ion-item lines=\\\"full\\\" class=\\\"ion-margin-bottom ion-margin-top input-background\\\">\\n            <ion-label appPlatformMode>{{'formFields.profile' | translate}}</ion-label>\\n            <ion-input\\n              type=\\\"text\\\"\\n              inputmode=\\\"text\\\"\\n              [formControlName]=\\\"'occupation'\\\"\\n              [maxlength]=\\\"maxlength\\\"\\n              required\\n            ></ion-input>\\n          </ion-item>\\n          <app-show-errors [control]=\\\"formGroup.controls['occupation']\\\"></app-show-errors>\\n        </div>\\n      </div>\\n      <ion-row class=\\\"flex-item ion-justify-content-center ion-margin-vertical\\\">\\n        <div class=\\\"pr col-xs-12 col-sm-10 col-lg-8\\\">\\n          <div class=\\\"ion-text-left\\\">\\n            <ion-item class=\\\"ion-no-border\\\">\\n              <span class=\\\"small-size\\\">{{ 'profile.toggleText' | translate}}</span>\\n              <ion-toggle\\n                [ngModelOptions]=\\\"{standalone: true}\\\"\\n                [(ngModel)]=\\\"toggle\\\"\\n                [checked]=\\\"toggle\\\"\\n                slot=\\\"start\\\"\\n                name=\\\"all\\\"\\n                color=\\\"secondary\\\"\\n                (ionChange)=\\\"resetForm()\\\"\\n              ></ion-toggle>\\n            </ion-item>\\n          </div>\\n        </div>\\n      </ion-row>\\n      <app-action-button (actionButtonClick)=\\\"saveProfile()\\\" [buttonText]=\\\"'next'\\\"></app-action-button>\\n    </form>\\n  </ion-grid>\\n</ion-content>\\n\";","import { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { SafeUrl } from '@angular/platform-browser';\nimport { Store } from '@ngxs/store';\nimport { Camera } from '@ionic-native/camera/ngx';\n\nimport { UtilsService } from '../@core/utils.service';\nimport { BasePage } from './base.page';\nimport { Utils } from '../@global/utils';\nimport { InformService } from '../@core/inform.service';\n\nexport class ProfileImageEditorBasePage extends BasePage {\n  public profileImage: SafeUrl;\n  public imageOriginalPath: string;\n\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    protected camera: Camera,\n    protected informService: InformService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  protected pickImageGallery = () => {\n    this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n  };\n\n  protected pickImageCamera = () => {\n    this.pickImage(this.camera.PictureSourceType.CAMERA);\n  };\n\n  protected async pickImage(sourceType: number): Promise<void> {\n    try {\n      const imageData = await this.utilsService.getMediaFromCameraPlugin(sourceType, this.camera.MediaType.PICTURE);\n\n      const { path, filename } = Utils.getPathAndFilenameFromUrl(imageData.imageOriginalPath);\n      const file = await this.utilsService.getFileFromSystemPath(path, filename);\n\n      if (!Utils.isImageMediaType(file.type)) {\n        this.informService.showWarning('createPost.wrongImageType');\n        return;\n      }\n\n      this.imageOriginalPath = imageData.imageOriginalPath;\n      this.profileImage = imageData.imageSource;\n    } catch (error) {\n      console.error('[ProfileImageEditorBasePage pickImage] error taking a picture');\n      console.error(error);\n\n      const capturedError = new Error('Error in pickImage: ' + error);\n      capturedError.name = '[ProfileImageEditorBasePage error]';\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { SharedModule } from '../../@shared/shared.module';\n\n@NgModule({\n  imports: [SharedModule, ProfilePageRoutingModule],\n  declarations: [ProfilePage],\n})\nexport class ProfilePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ251cC1mbG93L3Byb2ZpbGUvcHJvZmlsZS5wYWdlLnNjc3MifQ== */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Constants } from '../../@global/constants';\nimport { UtilsService } from '../../@core/utils.service';\nimport { StorageService } from '../../@core/storage.service';\nimport { NavigationExtrasService } from '../../@core/navigation-extras.service';\nimport { SignupBasePage } from '../signup-base.page';\nimport { FormCustomValidators } from '../../@shared/validators/form-custom-validators';\nimport { GoogleAnalyticsService } from '../../@core/google-analytics.service';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { InformService } from '../../@core/inform.service';\n\nconst PAGE_POSITION = 3;\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage extends SignupBasePage implements OnInit, OnDestroy {\n  public formGroup: FormGroup;\n  public toggle: boolean;\n  public maxlength = Constants.MAX_LENGTH_PROFILE;\n\n  constructor(\n    router: Router,\n    location: Location,\n    store: Store,\n    utilsService: UtilsService,\n    camera: Camera,\n    informService: InformService,\n    storage: StorageService,\n    navigationExtrasService: NavigationExtrasService,\n    googleAnalyticsService: GoogleAnalyticsService,\n    private formBuilder: FormBuilder\n  ) {\n    super(\n      location,\n      router,\n      store,\n      utilsService,\n      camera,\n      informService,\n      storage,\n      navigationExtrasService,\n      googleAnalyticsService\n    );\n  }\n\n  ngOnInit() {\n    this.initForm();\n\n    // override showBackButton\n    this.showBackButton = this.checkGoBack();\n    this.toggle = false;\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      occupation: [\n        '',\n        [Validators.required, FormCustomValidators.notAllowedEmojis, Validators.maxLength(this.maxlength)],\n      ],\n    });\n  }\n\n  ngOnDestroy() {}\n\n  public async saveProfile() {\n    if (!this.toggle && this.utilsService.isValidForm(this.formGroup)) {\n      await this.updateSignupFlowInfo(PAGE_POSITION, 'occupation', this.formGroup.get('occupation').value);\n      await this.updateSignupFlowInfo(PAGE_POSITION, 'sports_related', !this.toggle);\n      // go next page\n      this.goNextFlowPage(PAGE_POSITION);\n    }\n    if (this.toggle) {\n      await this.updateSignupFlowInfo(PAGE_POSITION, 'sports_related', !this.toggle);\n      await this.storage.removeSignupDataField('occupation');\n      this.goNextFlowPage(PAGE_POSITION);\n    }\n  }\n\n  public resetForm() {\n    if (this.toggle) {\n      this.formGroup.get('occupation').reset();\n      this.formGroup.get('occupation').disable();\n    } else {\n      this.formGroup.get('occupation').reset();\n      this.formGroup.get('occupation').enable();\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}