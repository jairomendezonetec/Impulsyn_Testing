{"version":3,"sources":["./src/app/chats/chats/chats.page.html","./src/app/chats/components/chat-list-item/chat-list-item.component.html","./src/app/chats/chats/chats-routing.module.ts","./src/app/chats/chats/chats.module.ts","./src/app/chats/chats/chats.page.scss","./src/app/chats/chats/chats.page.ts","./src/app/chats/components/chat-list-item/chat-list-item.component.scss","./src/app/chats/components/chat-list-item/chat-list-item.component.ts","./src/app/chats/components/chat-list-item/chat-list-item.module.ts"],"names":[],"mappings":"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","file":"chats-chats-chats-module.js","sourcesContent":["export default \"<app-header [showBackButton]=\\\"showBackButton\\\" [title]=\\\"'messages.title' | translate\\\" (backButtonClick)=\\\"goBack()\\\">\\n</app-header>\\n\\n<ion-content class=\\\"item-list\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <app-chat-list-item\\n    *ngFor=\\\"let chat of chatsData.chats\\\"\\n    [chat]=\\\"chat\\\"\\n    (photoClick)=\\\"goToUserProfile($event)\\\"\\n    (chatClick)=\\\"goToChatDetail($event)\\\"\\n  >\\n  </app-chat-list-item>\\n  <app-empty-message\\n    *ngIf=\\\"!chatsData.chats || chatsData.chats.length === 0\\\"\\n    [text]=\\\"'messages.noMessages'\\\"\\n    [iconName]=\\\"'file-tray-outline'\\\"\\n  ></app-empty-message>\\n  <ion-infinite-scroll (ionInfinite)=\\\"getNextChats($event)\\\" *ngIf=\\\"showInfiniteScroll\\\">\\n    <ion-infinite-scroll-content> </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\";","export default \"<div\\n  class=\\\"item-profile\\\"\\n  [ngClass]=\\\"{ 'chat-not-readed': chat.total_unread_messages_count > 0 }\\\"\\n  (click)=\\\"onChatClick()\\\"\\n>\\n  <div class=\\\"chat-user-image-container\\\">\\n    <img\\n      *ngIf=\\\"otherParticipant\\\"\\n      class=\\\"chat-user-image\\\"\\n      [src]=\\\"otherParticipant.photo\\\"\\n      (click)=\\\"onPhotoClick($event)\\\"\\n    />\\n    <ion-badge *ngIf=\\\"chat.total_unread_messages_count > 0\\\" class=\\\"unread-messages\\\">\\n      {{ chat.total_unread_messages_count }}</ion-badge\\n    >\\n  </div>\\n\\n  <div class=\\\"chat-data\\\">\\n    <div class=\\\"chat-message-info avatar-text col-xs-10 four-lines col-md-10\\\">\\n      <span class=\\\"regular-small-size\\\">{{ otherParticipant.complete_name }}</span>\\n      <span class=\\\"small-size\\\"\\n        >{{ isLastMessageFromOwnUser ? ('you' | translate) + ': ' : '' }}{{ chat.last_message.message }}</span\\n      >\\n    </div>\\n    <div color=\\\"grey\\\" class=\\\"chat-message-date regular-small-size\\\">\\n      {{ chat.last_message.creation_date_literal }}\\n    </div>\\n  </div>\\n</div>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatsPage } from './chats.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { ChatsPageRoutingModule } from './chats-routing.module';\n\nimport { ChatsPage } from './chats.page';\nimport { SharedModule } from '../../@shared/shared.module';\nimport { ChatListItemModule } from '../components/chat-list-item/chat-list-item.module';\n\n@NgModule({\n  imports: [SharedModule, ChatsPageRoutingModule, ChatListItemModule],\n  declarations: [ChatsPage],\n})\nexport class ChatsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXRzL2NoYXRzL2NoYXRzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { BasePage } from '../../base/base.page';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Store } from '@ngxs/store';\nimport { UtilsService } from '../../@core/utils.service';\nimport { Subscription } from 'rxjs';\nimport { ChatsState } from '../../@store/chats/chats.state';\nimport { IChatList } from '../../@shared/interfaces/chat';\nimport { GetUserChatList, AddNextUserChatList } from '../../@store/chats/chats.actions';\nimport { Constants } from '../../@global/constants';\nimport { take } from 'rxjs/operators';\nimport { GetAcademicProgramsSuggestions } from '../../@store/academic-programs/academic-programs.actions';\n\n@Component({\n  selector: 'app-chats',\n  templateUrl: './chats.page.html',\n  styleUrls: ['./chats.page.scss'],\n})\nexport class ChatsPage extends BasePage implements OnInit, OnDestroy {\n  private chatListSubscription: Subscription;\n  public chatsData: IChatList;\n  public showInfiniteScroll = true;\n\n  constructor(router: Router, location: Location, store: Store, utilsService: UtilsService) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.subscribeToChatList();\n  }\n\n  doIonViewWillEnter() {\n    this.loadChatList();\n  }\n\n  private loadChatList() {\n    this.store.dispatch(new GetUserChatList({ limit: Constants.CHAT_LOAD_LIMIT }));\n  }\n\n  public doRefresh(event): void {\n    const subscription = this.store.dispatch(new GetUserChatList({ limit: Constants.CHAT_LOAD_LIMIT })).subscribe(\n      () => {\n        subscription.unsubscribe();\n        event.target.complete();\n      },\n      (error) => {\n        subscription.unsubscribe();\n        event.target.complete();\n      }\n    );\n  }\n\n  private subscribeToChatList() {\n    this.chatListSubscription = this.store.select(ChatsState.getChatList).subscribe((data) => {\n      this.chatsData = data;\n      this.showInfiniteScroll = data.page < data.total_pages;\n    });\n  }\n\n  public getNextChats(event: any): void {\n    const nextPage = this.chatsData.page + 1;\n\n    if (nextPage <= this.chatsData.total_pages) {\n      this.store\n        .dispatch(new AddNextUserChatList({ page: nextPage, limit: Constants.CHAT_LOAD_LIMIT }))\n        .pipe(take(1))\n        .subscribe(() => {\n          event.target.complete();\n        });\n    }\n  }\n\n  public goToChatDetail(chatId: string): void {\n    this.router.navigate(['/chat-detail', chatId]);\n  }\n\n  public goToUserProfile(userId: string): void {\n    this.router.navigate(['/user-profile', userId]);\n  }\n\n  private disconnectObservers(): void {\n    if (this.chatListSubscription) {\n      this.chatListSubscription.unsubscribe();\n    }\n  }\n\n  ngOnDestroy() {\n    this.disconnectObservers();\n  }\n}\n","export default \".item-profile {\\n  position: relative;\\n  padding: 10px 16px;\\n  margin-bottom: 1px;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: start;\\n}\\n.item-profile.read {\\n  background: var(--ion-color-primary-contrast);\\n}\\n.item-profile.unread {\\n  background: rgba(120, 184, 166, 0.3);\\n}\\n.item-profile .avatar-image {\\n  border-radius: 50%;\\n  border: 2px solid var(--ion-color-secondary);\\n  width: 64px;\\n  height: 64px;\\n  overflow: hidden;\\n  padding: 1px;\\n  margin-right: 16px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.item-profile > div {\\n  display: flex;\\n  flex-direction: row;\\n}\\n.item-profile .avatar-text {\\n  flex-direction: column;\\n}\\n.chat-user-image-container {\\n  position: relative;\\n  flex: 1 0 auto;\\n}\\n.chat-user-image-container .chat-user-image {\\n  border-radius: 50%;\\n  border: 2px solid var(--ion-color-secondary);\\n  height: 64px;\\n  width: 64px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.chat-user-image-container .unread-messages {\\n  position: absolute;\\n  color: white;\\n  --background: var(--ion-color-danger-shade);\\n  font-size: 0.8em;\\n  padding: 5px;\\n  margin-left: -5px;\\n}\\n.chat-data {\\n  display: flex;\\n  flex: 1 1 auto;\\n  justify-content: space-between;\\n  width: 100%;\\n}\\n.chat-data .chat-message-info {\\n  flex: 1 1 auto;\\n}\\n.chat-data .chat-message-date {\\n  flex: 1 0 auto;\\n}\\n.chat-not-readed {\\n  background: var(--notification-not-readed);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhdHMvY29tcG9uZW50cy9jaGF0LWxpc3QtaXRlbS9jaGF0LWxpc3QtaXRlbS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7QUFBRTtFQUNFLDZDQUFBO0FBRUo7QUFBRTtFQUNFLG9DQUFBO0FBRUo7QUFBRTtFQUNFLGtCQUFBO0VBQ0EsNENBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQUVKO0FBQUU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFFSjtBQUFFO0VBQ0Usc0JBQUE7QUFFSjtBQUVBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0FBQ0Y7QUFDRTtFQUNFLGtCQUFBO0VBQ0EsNENBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUFDSjtBQUVFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsMkNBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUFKO0FBSUE7RUFDRSxhQUFBO0VBQ0EsY0FBQTtFQUNBLDhCQUFBO0VBQ0EsV0FBQTtBQURGO0FBR0U7RUFDRSxjQUFBO0FBREo7QUFJRTtFQUNFLGNBQUE7QUFGSjtBQU1BO0VBQ0UsMENBQUE7QUFIRiIsImZpbGUiOiJzcmMvYXBwL2NoYXRzL2NvbXBvbmVudHMvY2hhdC1saXN0LWl0ZW0vY2hhdC1saXN0LWl0ZW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXRlbS1wcm9maWxlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBwYWRkaW5nOiAxMHB4IDE2cHg7XG4gIG1hcmdpbi1ib3R0b206IDFweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3RhcnQ7XG4gICYucmVhZCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QpO1xuICB9XG4gICYudW5yZWFkIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEyMCwgMTg0LCAxNjYsIDAuMyk7XG4gIH1cbiAgLmF2YXRhci1pbWFnZSB7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIHdpZHRoOiA2NHB4O1xuICAgIGhlaWdodDogNjRweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBhZGRpbmc6IDFweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gIH1cbiAgPiBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgfVxuICAuYXZhdGFyLXRleHQge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbn1cblxuLmNoYXQtdXNlci1pbWFnZS1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGZsZXg6IDEgMCBhdXRvO1xuXG4gIC5jaGF0LXVzZXItaW1hZ2Uge1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBoZWlnaHQ6IDY0cHg7XG4gICAgd2lkdGg6IDY0cHg7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gIH1cblxuICAudW5yZWFkLW1lc3NhZ2VzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWRhbmdlci1zaGFkZSk7XG4gICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgbWFyZ2luLWxlZnQ6IC01cHg7XG4gIH1cbn1cblxuLmNoYXQtZGF0YSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDEgMSBhdXRvO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHdpZHRoOiAxMDAlO1xuXG4gIC5jaGF0LW1lc3NhZ2UtaW5mbyB7XG4gICAgZmxleDogMSAxIGF1dG87XG4gIH1cblxuICAuY2hhdC1tZXNzYWdlLWRhdGUge1xuICAgIGZsZXg6IDEgMCBhdXRvO1xuICB9XG59XG5cbi5jaGF0LW5vdC1yZWFkZWQge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ub3RpZmljYXRpb24tbm90LXJlYWRlZCk7XG59XG4iXX0= */\";","import { Component, Input, OnInit, SimpleChanges, OnChanges, Output, EventEmitter } from '@angular/core';\nimport { IChat } from '../../../@shared/interfaces/chat';\nimport { Store } from '@ngxs/store';\nimport { AuthState } from '../../../@store/auth/auth.state';\nimport { IUserPublicInfo } from '../../../@shared/interfaces/user-public-info';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-chat-list-item',\n  templateUrl: './chat-list-item.component.html',\n  styleUrls: ['./chat-list-item.component.scss'],\n})\nexport class ChatListItemComponent implements OnInit, OnChanges {\n  @Input() chat: IChat;\n  @Output() photoClick = new EventEmitter<string>();\n  @Output() chatClick = new EventEmitter<string>();\n\n  public otherParticipant: IUserPublicInfo;\n  public isLastMessageFromOwnUser: boolean;\n\n  constructor(private store: Store, private router: Router) {}\n\n  ngOnInit() {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.chat) {\n      this.otherParticipant = this.getOtherParticipant(changes.chat.currentValue.participants);\n      this.isLastMessageFromOwnUser =\n        changes.chat.currentValue.last_message?.sender?.id === this.store.selectSnapshot(AuthState.getUserId);\n    }\n  }\n\n  private getOtherParticipant(participants: IUserPublicInfo[]): IUserPublicInfo {\n    return participants.find((user) => user.id !== this.store.selectSnapshot(AuthState.getUserId));\n  }\n\n  public onChatClick(): void {\n    this.chatClick.emit(this.chat.id);\n  }\n\n  public onPhotoClick(event: any): void {\n    event.stopPropagation();\n    this.photoClick.emit(this.otherParticipant.id);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ChatListItemComponent } from './chat-list-item.component';\nimport { ImageItemModule } from '../../../@shared/components/image-item/image-item.module';\n\n@NgModule({\n  declarations: [ChatListItemComponent],\n  imports: [IonicModule, TranslateModule.forChild(), CommonModule, ImageItemModule],\n  exports: [ChatListItemComponent],\n})\nexport class ChatListItemModule {}\n"],"sourceRoot":"webpack:///"}