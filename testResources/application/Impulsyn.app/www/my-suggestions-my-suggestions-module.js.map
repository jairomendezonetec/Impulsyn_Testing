{"version":3,"sources":["./src/app/networking/my-suggestions/my-suggestions.page.html","./src/app/networking/my-suggestions/my-suggestions-routing.module.ts","./src/app/networking/my-suggestions/my-suggestions.module.ts","./src/app/networking/my-suggestions/my-suggestions.page.scss","./src/app/networking/my-suggestions/my-suggestions.page.ts"],"names":[],"mappings":"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","file":"my-suggestions-my-suggestions-module.js","sourcesContent":["export default \"<app-header\\n  [title]=\\\"'networking.connections' | translate\\\"\\n  [showBackButton]=\\\"true\\\"\\n  (backButtonClick)=\\\"goBack()\\\"\\n></app-header>\\n\\n<ion-content class=\\\"item-list\\\">\\n  <div *ngFor=\\\"let item of itemsSuggestions\\\">\\n    <!--    page-->\\n    <app-item-suggestion\\n      *ngIf=\\\"(item.organization_type!==undefined)\\\"\\n      [info]=\\\"item\\\"\\n      [buttonText]=\\\"(isPageOnList(item.id)?null:'follow')\\\"\\n      [infoText]=\\\"(isPageOnList(item.id)?'followed':null)\\\"\\n      (actionButtonClick)=\\\"onFollowPage($event)\\\"\\n      (actionItemClick)=\\\"onItemClick($event)\\\"\\n      [buttonColor]=\\\"'secondary'\\\"\\n      [isOrganization]=\\\"true\\\"\\n    ></app-item-suggestion>\\n    <!--    user-->\\n    <app-item-suggestion\\n      *ngIf=\\\"(item.organization_type==undefined || item.organization_type==null)\\\"\\n      [info]=\\\"item\\\"\\n      [buttonText]=\\\"(isItemOnList(item.id)?null:'connect')\\\"\\n      [infoText]=\\\"(isItemOnList(item.id)?'requested':null)\\\"\\n      (actionButtonClick)=\\\"onRequestConnection($event)\\\"\\n      (actionItemClick)=\\\"onItemClick($event)\\\"\\n      [buttonColor]=\\\"'secondary'\\\"\\n      [isOrganization]=\\\"false\\\"\\n    ></app-item-suggestion>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MySuggestionsPage } from './my-suggestions.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MySuggestionsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MySuggestionsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { MySuggestionsPageRoutingModule } from './my-suggestions-routing.module';\n\nimport { MySuggestionsPage } from './my-suggestions.page';\nimport { SharedModule } from '../../@shared/shared.module';\nimport { ItemSuggestionModule } from '../components/item-suggestion/item-suggestion.module';\n\n@NgModule({\n  imports: [SharedModule, MySuggestionsPageRoutingModule, ItemSuggestionModule],\n  declarations: [MySuggestionsPage],\n})\nexport class MySuggestionsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25ldHdvcmtpbmcvbXktc3VnZ2VzdGlvbnMvbXktc3VnZ2VzdGlvbnMucGFnZS5zY3NzIn0= */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BasePage } from '../../base/base.page';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Select, Store } from '@ngxs/store';\nimport { UtilsService } from '../../@core/utils.service';\nimport { UserPublicInfo } from '../models/user-public-info.model';\nimport { ConnectionRequestModel } from '../models/connection-request.model';\nimport { NetworkingControllersService } from '../services/networking-controllers.service';\nimport { NetworkState } from '../../@store/network/network.state';\nimport { IOrganizationInfo } from '../../@shared/interfaces/organization-info';\nimport { PUBLISHER_TYPE } from '../../@shared/enums/publisher-type';\nimport { FollowPageAction } from '../../@store/pages/pages.actions';\nimport { PagesState } from '../../@store/pages/pages.state';\nimport { Observable, Subscription } from 'rxjs';\nimport { Utils } from '../../@global/utils';\n\n@Component({\n  selector: 'app-my-suggestions',\n  templateUrl: './my-suggestions.page.html',\n  styleUrls: ['./my-suggestions.page.scss'],\n})\nexport class MySuggestionsPage extends BasePage implements OnInit, OnDestroy {\n  @Select(NetworkState.getSuggestions) userSuggestionsList$: Observable<(UserPublicInfo | IOrganizationInfo)[]>;\n  @Select(NetworkState.getPending) userPendingList$: Observable<ConnectionRequestModel[]>;\n  @Select(NetworkState.getRequested) userSentList$: Observable<ConnectionRequestModel[]>;\n  @Select(PagesState.getFollowedPageList) userPagesList$: Observable<IOrganizationInfo[]>;\n\n  private subscriptionSuggestions$: Subscription;\n  private subscriptionPending$: Subscription;\n  private subscriptionRequested$: Subscription;\n  private subscriptionPages$: Subscription;\n\n  private pages: IOrganizationInfo[];\n  public itemsPending: ConnectionRequestModel[];\n  public itemsRequests: ConnectionRequestModel[];\n  public itemsSuggestions: (UserPublicInfo | IOrganizationInfo)[];\n\n  constructor(\n    router: Router,\n    location: Location,\n    store: Store,\n    utilsService: UtilsService,\n    private networkingService: NetworkingControllersService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  ngOnInit() {\n    this.loadRequested();\n    this.loadSuggestions();\n    this.loadPending();\n    this.loadPages();\n  }\n\n  private loadPages(): void {\n    this.subscriptionPages$ = this.userPagesList$.subscribe((data) => {\n      this.pages = data;\n    });\n  }\n\n  private loadPending(): void {\n    this.subscriptionPending$ = this.userPendingList$.subscribe((data) => {\n      this.itemsPending = data;\n    });\n  }\n\n  private loadRequested(): void {\n    this.subscriptionRequested$ = this.userSentList$.subscribe((data) => {\n      this.itemsRequests = data;\n    });\n  }\n\n  private loadSuggestions(): void {\n    this.subscriptionSuggestions$ = this.userSuggestionsList$.subscribe((data) => {\n      this.itemsSuggestions = data;\n    });\n  }\n\n  public onRequestConnection($event) {\n    this.networkingService.onRequestConnection($event.id);\n  }\n\n  public onFollowPage($event) {\n    const organization = this.itemsSuggestions.find((item) => item.id === $event.id) as IOrganizationInfo;\n    this.store.dispatch(new FollowPageAction({ organization }));\n  }\n\n  public isPageOnList(id): boolean {\n    return Utils.isItemOnList(this.pages, id);\n  }\n\n  public isItemOnList(id): boolean {\n    return Utils.isItemOnList(this.itemsRequests, id);\n  }\n\n  public onItemClick($event) {\n    this.utilsService.goProfile($event.model.id, !$event.isOrganization ? PUBLISHER_TYPE.USER : 0);\n  }\n\n  private disconnectObservers(): void {\n    this.subscriptionSuggestions$.unsubscribe();\n    this.subscriptionPending$.unsubscribe();\n    this.subscriptionRequested$.unsubscribe();\n    this.subscriptionPages$.unsubscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.disconnectObservers();\n  }\n}\n"],"sourceRoot":"webpack:///"}