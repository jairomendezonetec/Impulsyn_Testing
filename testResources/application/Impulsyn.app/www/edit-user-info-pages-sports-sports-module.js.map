{"version":3,"sources":["./src/app/edit-user-info/pages/sports/sports.page.html","./src/app/base/profile-image-editor-base.page.ts","./src/app/edit-user-info/pages/sports/sports-routing.module.ts","./src/app/edit-user-info/pages/sports/sports.module.ts","./src/app/edit-user-info/pages/sports/sports.page.scss","./src/app/edit-user-info/pages/sports/sports.page.ts"],"names":[],"mappings":"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","file":"edit-user-info-pages-sports-sports-module.js","sourcesContent":["export default \"<app-header [showBackButton]=\\\"showBackButton\\\" [titleImage]=\\\"logoPath\\\" (backButtonClick)=\\\"goBack()\\\"></app-header>\\n\\n<ion-content class=\\\"ion-padding background-with-dark-color\\\">\\n  <div class=\\\"flex-container\\\">\\n    <ion-row class=\\\"flex-item\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        <div class=\\\"screen-extrabig-title\\\" [innerHTML]=\\\"'sports.title' | translate\\\"></div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"flex-item ion-justify-content-center\\\">\\n      <div class=\\\"pr col-xs-10 col-sm-8 col-lg-6\\\">\\n        <div class=\\\"ion-text-end small-size ion-padding-bottom ion-color-tertiary\\\">\\n          {{ 'sports.maxItems' | translate}}{{ max }}\\n        </div>\\n        <div class=\\\"container-chip pr\\\" *ngIf=\\\"sportsList?.length > 0\\\">\\n          <div class=\\\"shadow-layer\\\" [ngClass]=\\\"allToggle?'':'ion-hide'\\\"></div>\\n          <span\\n            class=\\\"small-size chip\\\"\\n            *ngFor=\\\"let sport of sportsList\\\"\\n            id=\\\"{{sport.id}}\\\"\\n            (click)=\\\"selectItem(sport.id)\\\"\\n            [ngClass]=\\\"(isItemSelected(sport.id))?'active':''\\\"\\n          >\\n            {{('sports.' + sport.name) | translate}}\\n          </span>\\n        </div>\\n        <div class=\\\"ion-text-end small-size ion-padding-top\\\" [ngClass]=\\\"(reachMaxItemsSelected())?'danger':''\\\">\\n          {{selectedItems.length}} / {{ max }}\\n        </div>\\n        <div class=\\\"ion-text-left\\\">\\n          <ion-item class=\\\"ion-no-border\\\">\\n            <ion-label class=\\\"regular-size\\\">{{ 'sports.all' | translate}}</ion-label>\\n            <ion-toggle\\n              [(ngModel)]=\\\"allToggle\\\"\\n              [checked]=\\\"allToggle\\\"\\n              slot=\\\"start\\\"\\n              name=\\\"all\\\"\\n              color=\\\"secondary\\\"\\n              (ionChange)=\\\"resetSelection()\\\"\\n            ></ion-toggle>\\n          </ion-item>\\n        </div>\\n      </div>\\n    </ion-row>\\n    <app-action-button (actionButtonClick)=\\\"nextPage()\\\" [buttonText]=\\\"'next'\\\"></app-action-button>\\n  </div>\\n</ion-content>\\n\";","import { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { SafeUrl } from '@angular/platform-browser';\nimport { Store } from '@ngxs/store';\nimport { Camera } from '@ionic-native/camera/ngx';\n\nimport { UtilsService } from '../@core/utils.service';\nimport { BasePage } from './base.page';\nimport { Utils } from '../@global/utils';\nimport { InformService } from '../@core/inform.service';\n\nexport class ProfileImageEditorBasePage extends BasePage {\n  public profileImage: SafeUrl;\n  public imageOriginalPath: string;\n\n  constructor(\n    location: Location,\n    router: Router,\n    store: Store,\n    utilsService: UtilsService,\n    protected camera: Camera,\n    protected informService: InformService\n  ) {\n    super(location, router, store, utilsService);\n  }\n\n  protected pickImageGallery = () => {\n    this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n  };\n\n  protected pickImageCamera = () => {\n    this.pickImage(this.camera.PictureSourceType.CAMERA);\n  };\n\n  protected async pickImage(sourceType: number): Promise<void> {\n    try {\n      const imageData = await this.utilsService.getMediaFromCameraPlugin(sourceType, this.camera.MediaType.PICTURE);\n\n      const { path, filename } = Utils.getPathAndFilenameFromUrl(imageData.imageOriginalPath);\n      const file = await this.utilsService.getFileFromSystemPath(path, filename);\n\n      if (!Utils.isImageMediaType(file.type)) {\n        this.informService.showWarning('createPost.wrongImageType');\n        return;\n      }\n\n      this.imageOriginalPath = imageData.imageOriginalPath;\n      this.profileImage = imageData.imageSource;\n    } catch (error) {\n      console.error('[ProfileImageEditorBasePage pickImage] error taking a picture');\n      console.error(error);\n\n      const capturedError = new Error('Error in pickImage: ' + error);\n      capturedError.name = '[ProfileImageEditorBasePage error]';\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SportsPage } from './sports.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SportsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SportsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { SportsPageRoutingModule } from './sports-routing.module';\n\nimport { SportsPage } from './sports.page';\nimport { SharedModule } from '../../../@shared/shared.module';\n\n@NgModule({\n  imports: [SharedModule, SportsPageRoutingModule],\n  declarations: [SportsPage],\n})\nexport class SportsPageModule {}\n","export default \"ion-item {\\n  --padding-start: 0;\\n}\\n\\n.shadow-layer {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n\\nion-toggle {\\n  --background: var(--ion-color-medium-shade);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC11c2VyLWluZm8vcGFnZXMvc3BvcnRzL3Nwb3J0cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQUNGOztBQUNBO0VBQ0Usa0JBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsOEJBQUE7QUFFRjs7QUFBQTtFQUNFLDJDQUFBO0FBR0YiLCJmaWxlIjoic3JjL2FwcC9lZGl0LXVzZXItaW5mby9wYWdlcy9zcG9ydHMvc3BvcnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pdGVtIHtcbiAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xufVxuLnNoYWRvdy1sYXllciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5pb24tdG9nZ2xlIHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlKTtcbn1cbiJdfQ== */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { Select, Store } from '@ngxs/store';\nimport { Observable, Subscription } from 'rxjs';\nimport { GlobalInfoState } from '../../../@store/global-info/global-info.state';\nimport { IElement } from '../../../@store/global-info/global-info.model';\nimport { InformService } from '../../../@core/inform.service';\nimport { StorageService } from '../../../@core/storage.service';\nimport { NavigationExtrasService } from '../../../@core/navigation-extras.service';\nimport { SignupBasePage } from '../../../signup-flow/signup-base.page';\nimport { UtilsService } from '../../../@core/utils.service';\nimport { GetSportsInfo } from '../../../@store/global-info/global-info.actions';\nimport { GoogleAnalyticsService } from '../../../@core/google-analytics.service';\nimport { Camera } from '@ionic-native/camera/ngx';\n\nconst SPORTS_MAX_ITEMS = 3;\nconst PAGE_POSITION = 3;\n\n@Component({\n  selector: 'app-sports',\n  templateUrl: './sports.page.html',\n  styleUrls: ['./sports.page.scss'],\n})\nexport class SportsPage extends SignupBasePage implements OnInit, OnDestroy {\n  public sportsList: IElement[];\n  public max = SPORTS_MAX_ITEMS;\n  public selectedItems: string[] = [];\n  public allToggle = false;\n  private subscription$: Subscription;\n  @Select(GlobalInfoState.getSports) sports$: Observable<IElement[]>;\n\n  constructor(\n    router: Router,\n    location: Location,\n    store: Store,\n    utilsService: UtilsService,\n    camera: Camera,\n    informService: InformService,\n    storage: StorageService,\n    navigationExtrasService: NavigationExtrasService,\n    googleAnalyticsService: GoogleAnalyticsService\n  ) {\n    super(\n      location,\n      router,\n      store,\n      utilsService,\n      camera,\n      informService,\n      storage,\n      navigationExtrasService,\n      googleAnalyticsService\n    );\n  }\n\n  ngOnInit() {\n    this.loadSportsInfo();\n\n    // override showBackButton\n    this.showBackButton = this.checkGoBack();\n  }\n\n  private loadSportsInfo(): void {\n    this.store.dispatch(new GetSportsInfo());\n    this.subscription$ = this.sports$.subscribe((data) => {\n      this.sportsList = data;\n    });\n  }\n\n  public selectItem(id): void {\n    if (this.isItemSelected(id)) {\n      this.selectedItems = this.selectedItems.filter((item) => item !== id);\n    } else {\n      if (this.selectedItems.length < SPORTS_MAX_ITEMS) {\n        this.selectedItems.push(this.sportsList.find((item) => item.id === id)?.id);\n      }\n    }\n  }\n\n  public isItemSelected(id): boolean {\n    return this.selectedItems?.indexOf(id) !== -1;\n  }\n\n  public reachMaxItemsSelected(): boolean {\n    return this.selectedItems.length === SPORTS_MAX_ITEMS;\n  }\n\n  public async nextPage(): Promise<void> {\n    if (this.selectedItems.length !== 0 || this.allToggle) {\n      // await this.updateSignupFlowInfo(PAGE_POSITION, 'sports', this.allToggle ? ['-1'] : this.selectedItems);\n      await this.updateSignupFlowInfo(PAGE_POSITION, 'sports', null);\n      // go next page\n      this.goNextFlowPage(PAGE_POSITION);\n    } else {\n      this.informService.showWarning('sports.selectionMessage');\n    }\n  }\n\n  public resetSelection() {\n    if (this.allToggle) {\n      this.selectedItems = [];\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.disconnectObservers();\n  }\n\n  private disconnectObservers(): void {\n    this.subscription$.unsubscribe();\n  }\n}\n"],"sourceRoot":"webpack:///"}